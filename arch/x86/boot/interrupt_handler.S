#include "interrupt_handler.h"


DEFINE_INT_HANDLER(0)
DEFINE_INT_HANDLER(1)
DEFINE_INT_HANDLER(2)
DEFINE_INT_HANDLER(3)
DEFINE_INT_HANDLER(4)
DEFINE_INT_HANDLER(5)
DEFINE_INT_HANDLER(6)
DEFINE_INT_HANDLER(7)
DEFINE_INT_HANDLER_WITH_ERR_CODE(8)
DEFINE_INT_HANDLER_WITH_ERR_CODE(9)
DEFINE_INT_HANDLER_WITH_ERR_CODE(10)
DEFINE_INT_HANDLER_WITH_ERR_CODE(11)
DEFINE_INT_HANDLER_WITH_ERR_CODE(12)
DEFINE_INT_HANDLER_WITH_ERR_CODE(13)
DEFINE_INT_HANDLER_WITH_ERR_CODE(14)
DEFINE_INT_HANDLER(15)
DEFINE_INT_HANDLER(16)
DEFINE_INT_HANDLER_WITH_ERR_CODE(17)
DEFINE_INT_HANDLER(18)
DEFINE_INT_HANDLER(19)
DEFINE_INT_HANDLER(20)

DEFINE_INT_HANDLER(32)
DEFINE_INT_HANDLER(33)
DEFINE_INT_HANDLER(34)
DEFINE_INT_HANDLER(35)
DEFINE_INT_HANDLER(36)
DEFINE_INT_HANDLER(37)
DEFINE_INT_HANDLER(38)
DEFINE_INT_HANDLER(39)
DEFINE_INT_HANDLER(40)
DEFINE_INT_HANDLER(41)
DEFINE_INT_HANDLER(42)
DEFINE_INT_HANDLER(43)
DEFINE_INT_HANDLER(44)
DEFINE_INT_HANDLER(45)
DEFINE_INT_HANDLER(46)
DEFINE_INT_HANDLER(47)

	.text
common_int_handler:
	pushq	%r15
	pushq	%r14
	pushq	%r13
	pushq	%r12
	pushq	%r11
	pushq	%r10
	pushq	%r9
	pushq	%r8
	pushq	%rbp
	pushq	%rsi
	pushq	%rdi
	pushq	%rdx
	pushq	%rcx
	pushq	%rbx
	pushq	%rax
	movq	%rsp, %rdi
	call	do_common_int_handler
	popq	%rax
	popq	%rbx
	popq	%rcx
	popq	%rdx
	popq	%rdi
	popq	%rsi
	popq	%rbp
	popq	%r8 
	popq	%r9 
	popq	%r10
	popq	%r11
	popq	%r12
	popq	%r13
	popq	%r14
	popq	%r15
	addq	$0x10, %rsp # エラーコードとvectorの分
	iretq